# MovieMaker

静止画（カバー）と音楽ファイルから、YouTube向けの動画を生成するWindows用WPFアプリです。
縦画像は9:16（YouTube Shorts）、横画像は16:9（YouTube）としてエンコードします。
画像はCanva由来の前提で、比率が合わない場合はエラーにします。

## 主な機能
- 画像と音楽をドラッグ&ドロップで指定
- 縦横比で自動判定（9:16 / 16:9のみ許可）
- タイトル入力必須
- 出力先とアーカイブ先を別指定
- ffmpegで高音質エンコード（AAC 320kbps / 48kHz）
- GPU対応エンコーダが利用可能なら自動で使用（NVENC/QSV/AMF）

## 動作環境
- Windows 10/11
- .NET 8 SDK 以上
- ffmpeg（同梱またはPATHに登録）

## セットアップ
1. .NET 8 SDK をインストール
2. ffmpeg をインストールし PATH を通す
- `ffmpeg` が `Get-Command` で見える状態にする

## 起動
```powershell
dotnet run --project .\MovieMaker.csproj
```

## 使い方
1. 設定画面で「出力先」と「アーカイブ」を設定
2. タイトルを入力
3. 画像と音楽をドロップ
4. 「エンコード開始」を押す

## 出力ルール
- 出力先
`出力先\{タイトル}_yyyyMMdd_HHmmss.mp4`
- アーカイブ
`アーカイブ\{タイトル}\` に元データをコピー
- 同名タイトルが存在する場合
`{タイトル}_yyyyMMdd` を付与し、さらに重複時は `_1` などを追加

## 制約
- 画像の縦横比は 9:16 または 16:9 のみ許可（±1%）
- それ以外はエラー
- YouTube Shorts向け（縦動画）は音楽が180秒以上の場合のみ2:59に収めるため末尾1秒をフェードアウトして短縮

## ログ
- `logs/` にffmpegのログを出力

## ライセンス
GPLv3

